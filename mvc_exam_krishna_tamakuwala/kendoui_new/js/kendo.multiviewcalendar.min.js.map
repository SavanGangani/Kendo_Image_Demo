{"version":3,"file":"kendo.multiviewcalendar.min.js","names":["factory","define","amd","$","undefined$1","kendo","window","calendar","support","isInRange","toDateObject","createDate","isEqualDate","getToday","keys","ui","Widget","Selectable","template","mobileOS","ns","CLICK","ID","MONTH","DOT","CENTURY","CHANGE","NAVIGATE","VALUE","FOCUSED","SELECTED","MID","SPLITEND","SPLITSTART","START","END","HOVER","DISABLED","TODAY","OUTOFRANGE","CALENDAR_VIEW","CELLSELECTOR","CELLSELECTORVALID","BLUR","FOCUS","MOUSEENTER","touch","MOUSELEAVE_NS","PREVARROW","NEXTARROW","RANGE","SINGLE","MULTIPLE","TABLE","TBODY","THEAD","TH","ROLE","NONE","ARIA_SELECTED","ARIA_DISABLED","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","DATE","Date","views","month","year","decade","century","RangeSelectable","extend","init","element","options","that","this","fn","call","userEvents","UserEvents","global","allowSelection","filter","tap","_tap","bind","touchAction","events","name","inputSelectors","multiple","dragToSelect","relatedTarget","noop","destroy","_lastActive","_start","_end","_allowSelection","target","is","cancel","start","addClass","attr","end","mid","elements","tables","find","each","lastCell","last","firstCell","first","hasClass","clear","clearVariables","removeClass","removeAttr","selectFrom","items","startIdx","inArray","index","selectTo","endIdx","range","temp","length","_useEnd","change","trigger","_clearFlags","_useStart","e","selectRange","currentDate","_toggling","MultiViewCalendar","id","culture","wrapper","disableDates","disabled","getCulture","format","_extractFormat","calendars","standard","patterns","d","_templates","_header","_wrapper","weekNumber","on","_move","_focus","_blur","link","currentTarget","firstChild","href","indexOf","preventDefault","_click","_mouseEnter","guid","_cellID","_calendarWidth","width","_range","_initViews","viewName","value","_selectable","_footer","footer","_selectDates","_addSelectedCellsToArray","selectable","selectDates","_restoreSelection","notify","min","max","dates","showViewHeader","depth","messages","weekColumnHeader","setOptions","normalize","i","_views","off","remove","_cell","_currentView","_current","header","_title","rangeSelectable","_today","current","focus","tablesWrapper","_option","view","navigateToPast","_navigate","navigateToFuture","navigateUp","_index","navigate","navigateDown","_value","isNaN","viewsEnum","restrictValue","_aria","rowGroups","add","role","_ariaMonth","rows","noHeaderRows","not","noHeaderCells","columnHeaderCells","rowHeaderCells","outOfRange","row","prev","$row","numberOfEmpty","owned","children","eq","j","cell","$cell","push","join","_updateHeader","lastDate","prevDisabled","nextDisabled","title","_firstViewValue","visibleRange","_visibleRange","shiftDate","html","getFullYear","toggleClass","compare","_navContainer","icon","iconClass","appendTo","_dateInViews","prevent","lastActive","cellIndex","triggerChange","key","keyCode","focusedCell","table","closest","currentValue","isRtl","RIGHT","LEFT","UP","DOWN","SPACEBAR","HOME","_focusCell","next","_todayClick","ctrlKey","metaKey","_cellByDate","ENTER","_toggleSelection","shiftKey","setDate","_nextNavigatable","getMonth","getDate","_selectRange","event","PAGEUP","PAGEDOWN","_visualizeSelectedDatesInView","cells","selectedDates","toDateString","_selectElement","isDisabled","navigatableDate","getTime","_unselect","option","parseDate","_toggle","toLowerCase","_rangeSelection","aria","parseOptions","_selection","_onRelatedTarget","unselect","_unselecting","_getFirstViewDate","currentView","ranges","_canRenderNextView","viewDate","fullYear","date","maxYear","maxMonth","viewOptions","_table","content","url","showHeader","isWeekColumnVisible","otherMonth","contentClasses","sender","useEnd","useStart","initialRange","_preventChange","selectElements","domEvent","isCell","_validateValue","_deselect","item","currentDateIndex","map","Number","splice","firstDateInView","lastDateInView","_fillRange","daysDifference","startDate","endDate","fromDateUTC","UTC","endDateUTC","Math","ceil","MS_PER_DAY","daysBetweenTwoDates","array","numberOfDays","fromDate","nextDay","addDaysToArray","buttons","prependTo","mousetoggle","_calendarTitleClick","_prevViewClick","_nextViewClick","insertAfter","empty","data","useWithBlock","toString","today","hide","show","arrow","modifier","offset","originaValue","setFullYear","toggle","isTodayDisabled","adjustDST","contains","cellId","removeAttribute","_updateAria","ariaTemplate","text","valueType","clearSelection","validSelectedDates","datesUnique","position","time","grep","setHours","startInRange","endInRange","type","dimension","numberOfViews","abs","setMonth","plugin","jQuery"],"sources":["kendo.multiviewcalendar.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.core', 'kendo.selectable', 'kendo.calendar', 'kendo.icons'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"multiviewcalendar\",\n        name: \"MultiViewCalendar\",\n        category: \"web\",\n        description: \"Multi-view calendar.\",\n        depends: [ \"core\", \"selectable\", \"calendar\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            calendar = kendo.calendar,\n            support = kendo.support,\n            isInRange = calendar.isInRange,\n            toDateObject = calendar.toDateObject,\n            createDate = calendar.createDate,\n            isEqualDate = calendar.isEqualDate,\n            getToday = calendar.getToday,\n            keys = kendo.keys,\n            ui = kendo.ui,\n            Widget = ui.Widget,\n            Selectable = ui.Selectable,\n            template = kendo.template,\n            mobileOS = support.mobileOS,\n            ns = \".kendoMultiViewCalendar\",\n            CLICK = \"click\",\n            KEYDOWN = \"keydown\",\n            ID = \"id\",\n            MIN = \"min\",\n            MONTH = \"month\",\n            DOT = \".\",\n            EMPTY = \" \",\n            CENTURY = \"century\",\n            DECADE = \"decade\",\n            CHANGE = \"change\",\n            NAVIGATE = \"navigate\",\n            VALUE = \"value\",\n            FOCUSED = \"k-focus\",\n            SELECTED = \"k-selected\",\n            MID = \"k-range-mid\",\n            SPLITEND = \"k-range-split-end\",\n            SPLITSTART = \"k-range-split-start\",\n            START = \"k-range-start\",\n            END = \"k-range-end\",\n            HOVER = \"k-hover\",\n            DISABLED = \"k-disabled\",\n            TODAY = \"k-calendar-nav-today\",\n            OTHERMONTH = \"k-other-month\",\n            OUTOFRANGE = \"k-out-of-range\",\n            CALENDAR_VIEW = \"k-calendar-view\",\n            CELLSELECTOR = \"td:has(.k-link):not(.\" + OUTOFRANGE + \")\",\n            CELLSELECTORVALID = \"td:has(.k-link):not(.\" + DISABLED + \"):not(.\" + OUTOFRANGE + \")\",\n            BLUR = \"blur\",\n            FOCUS = \"focus\",\n            MOUSEENTER = support.touch ? \"touchstart\" : \"mouseenter\",\n            MOUSELEAVE_NS = support.touch ? \"touchend\" + ns + \" touchmove\" + ns : \"mouseleave\" + ns,\n            PREVARROW = \"_prevArrow\",\n            NEXTARROW = \"_nextArrow\",\n            RANGE = \"range\",\n            SINGLE = \"single\",\n            MULTIPLE = \"multiple\",\n            TABINDEX = \"tabindex\",\n            TABLE = \"table\",\n            TBODY = \"tbody\",\n            THEAD = \"thead\",\n            TR = \"tr\",\n            TD = \"td\",\n            TH = \"th\",\n            ROLE = \"role\",\n            NONE = \"none\",\n            ROWGROUP = \"rowgroup\",\n            COLUMNHEADER = \"columnheader\",\n            ROWHEADER = \"rowheader\",\n            GRIDCELL = \"gridcell\",\n            ARIA_SELECTED = \"aria-selected\",\n            ARIA_DISABLED = \"aria-disabled\",\n            ARIA_LABEL = \"aria-label\",\n            ARIA_OWNS = \"aria-owns\",\n            ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n            INPUTSELECTOR = \"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,span.k-svg-icon.k-svg-i-caret-alt-down,span.k-svg-icon.k-svg-i-caret-alt-up\",\n            DATE = Date,\n            views = {\n                month: 0,\n                year: 1,\n                decade: 2,\n                century: 3\n            };\n\n        var RangeSelectable = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n\n                that.calendar = options.calendar;\n\n                that.userEvents = new kendo.UserEvents(that.element, {\n                    global: true,\n                    allowSelection: true,\n                    filter: that.options.filter,\n                    tap: that._tap.bind(that),\n                    touchAction: NONE\n                });\n            },\n\n            events: [CHANGE],\n\n            options: {\n                name: \"RangeSelectable\",\n                filter: \">*\",\n                inputSelectors: INPUTSELECTOR,\n                multiple: false,\n                dragToSelect: true,\n                relatedTarget: $.noop\n            },\n\n            destroy: function() {\n                var that = this;\n\n                Widget.fn.destroy.call(that);\n\n                that.userEvents.destroy();\n                that.calendar = null;\n\n                that._lastActive = that.element = that.userEvents = that._start = that._end = null;\n            },\n\n            _allowSelection: function(target) {\n                if ($(target).is(this.options.inputSelectors)) {\n                    this.userEvents.cancel();\n                    return false;\n                }\n\n                return true;\n            },\n\n            start: function(element) {\n                if (element === undefined$1) {\n                    return this._start;\n                }\n                element.addClass(START + \" \" + SELECTED).attr(ARIA_SELECTED, true);\n                this._start = element;\n            },\n\n            end: function(element) {\n                if (element === undefined$1) {\n                    return this._start;\n                }\n                element.addClass(END + \" \" + SELECTED).attr(ARIA_SELECTED, true);\n                this._end = element;\n            },\n\n            mid: function(elements) {\n                var tables = this.element.find(\"table.k-month\");\n\n                elements.addClass(MID).attr(ARIA_SELECTED, true);\n                tables.each(function() {\n                    var that = $(this);\n                    var lastCell = that.find(CELLSELECTORVALID).last();\n                    var firstCell = that.find(CELLSELECTORVALID).first();\n\n                    if (lastCell.hasClass(MID)) {\n                        lastCell.addClass(SPLITEND);\n                    }\n\n                    if (firstCell.hasClass(MID)) {\n                        firstCell.addClass(SPLITSTART);\n                    }\n                });\n            },\n\n            clear: function(clearVariables) {\n                this.element.find(CELLSELECTOR)\n                    .removeClass(END + \" \" + SELECTED + \" \" + START + \" \" + MID + \" \" + SPLITEND + \" \" + SPLITSTART)\n                    .removeAttr(ARIA_SELECTED);\n\n                if (clearVariables) {\n                    this._start = this._end = null;\n                }\n            },\n\n            selectFrom: function(start) {\n                var that = this;\n                var items;\n                var startIdx;\n\n                items = that.element.find(CELLSELECTOR);\n\n                startIdx = $.inArray($(start)[0], items);\n\n                that.clear();\n                that.start(start);\n\n                items = items.filter(function(index) {\n                    return index > startIdx;\n                });\n                that.mid(items);\n            },\n\n            selectTo: function(end) {\n                var that = this;\n                var items;\n                var endIdx;\n\n                items = that.element.find(CELLSELECTOR);\n\n                endIdx = $.inArray($(end)[0], items);\n\n                that.clear();\n\n                items = items.filter(function(index) {\n                    return index < endIdx;\n                });\n                that.mid(items);\n                that.end($(end));\n            },\n\n            range: function(start, end) {\n                var that = this;\n                var items;\n                var startIdx;\n                var endIdx;\n                var temp;\n\n                if (start === undefined$1) {\n                    return { start: that._start, end: that._end };\n                }\n\n                items = that.element.find(CELLSELECTOR);\n\n                startIdx = $.inArray($(start)[0], items);\n                endIdx = $.inArray($(end)[0], items);\n\n                if (endIdx == -1) {\n                    endIdx = items.length;\n                }\n\n                if (startIdx > endIdx) {\n                    temp = end;\n                    end = start;\n                    start = temp;\n                    temp = startIdx;\n                    startIdx = endIdx;\n                    endIdx = temp;\n                }\n                that.clear();\n                start.addClass(START + \" \" + SELECTED).attr(ARIA_SELECTED, true);\n                that._start = start;\n\n                items = items.filter(function(index) {\n                    return index > startIdx && index < endIdx;\n                });\n                that.mid(items);\n\n                if (end) {\n                    that.end($(end));\n                } else {\n                    that._useEnd = true;\n                }\n            },\n\n            change: function() {\n                this.trigger(CHANGE);\n            },\n\n            _clearFlags: function() {\n                this._useStart = this._useEnd = false;\n            },\n\n            _tap: function(e) {\n                var target = $(e.target),\n                    range = this.calendar.selectRange() || {},\n                    start = range.start,\n                    end = range.end,\n                    that = this,\n                    currentDate = toDateObject($(target).find(\"a\")),\n                    items,\n                    startIdx,\n                    endIdx;\n\n\n                that._lastActive = target;\n\n                if (!start || +start > +currentDate) {\n                    that.clear(true);\n                    that.start(target);\n                    that._clearFlags();\n                    that.trigger(CHANGE);\n                    return;\n                }\n\n                if (start && !end) {\n                    items = that.element.find(CELLSELECTOR);\n\n                    startIdx = $.inArray($(that._start)[0], items);\n                    endIdx = $.inArray($(target)[0], items);\n\n                    if (start) {\n                        that._useStart = true;\n                    }\n\n                    items = items.filter(function(index) {\n                        return index > startIdx && index < endIdx;\n                    });\n                    that.mid(items);\n                    that.end($(target));\n                    that.trigger(CHANGE);\n                    that._clearFlags();\n                    return;\n                }\n\n                if (start && end) {\n                    if (target.hasClass(MID)) {\n                        if (!that._toggling) {\n                            that.range(target, that._end);\n                        } else {\n                            that.range(that._start, target);\n                        }\n                        that._toggling = !that._toggling;\n                        that.trigger(CHANGE);\n                        that._clearFlags();\n                        return;\n                    }\n                    that._toggling = false;\n                    that._end = null;\n                    that.clear();\n                    that.start(target);\n                    that.trigger(CHANGE);\n                    that._clearFlags();\n                }\n            }\n        });\n\n\n        var MultiViewCalendar = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                var id;\n                var culture;\n\n                Widget.fn.init.call(that, element, options);\n\n                element = that.wrapper = that.element;\n                options = that.options;\n\n                that.options.disableDates = calendar.disabled(that.options.disableDates);\n\n                culture = kendo.getCulture(options.culture);\n                options.format = kendo._extractFormat(options.format || culture.calendars.standard.patterns.d);\n\n                that._templates();\n\n                that._header();\n\n                that._wrapper();\n\n                id = element\n                    .addClass(\"k-widget k-calendar k-calendar-range\" + (options.weekNumber ? \" k-week-number\" : \"\"))\n                    .on(KEYDOWN + ns, DOT + CALENDAR_VIEW, that._move.bind(that))\n                    .on(FOCUS + ns, DOT + CALENDAR_VIEW, that._focus.bind(that))\n                    .on(BLUR + ns, DOT + CALENDAR_VIEW, that._blur.bind(that))\n                    .on(CLICK + ns, CELLSELECTORVALID, function(e) {\n                        var link = e.currentTarget.firstChild;\n\n                        if (link.href.indexOf(\"#\") != -1) {\n                            e.preventDefault();\n                        }\n\n                        that._click($(link));\n                    })\n                    .on(MOUSEENTER + ns, CELLSELECTORVALID, that._mouseEnter.bind(that))\n                    .on(MOUSELEAVE_NS, CELLSELECTORVALID, function() {\n                        $(this).removeClass(HOVER);\n                    })\n                    .attr(ID);\n\n                if (!id) {\n                    id = kendo.guid();\n                }\n\n                that._cellID = id + \"_cell_selected\";\n\n                that._calendarWidth = that.element.width();\n\n                that._range = options.range;\n\n                that._initViews({ viewName: options.start, value: options.value });\n                that._selectable();\n\n                that._footer(that.footer);\n                that._selectDates = [];\n                that.value(options.value);\n                that._addSelectedCellsToArray();\n\n                if (options.selectable == MULTIPLE) {\n                    that._selectDates = options.selectDates.length ? options.selectDates : that._selectDates;\n                    that._restoreSelection();\n                }\n\n                if (options.selectable == RANGE) {\n                    that.selectRange(that._range);\n                }\n\n                kendo.notify(that);\n            },\n\n            options: {\n                name: \"MultiViewCalendar\",\n                value: null,\n                min: new DATE(1900, 0, 1),\n                max: new DATE(2099, 11, 31),\n                dates: [],\n                disableDates: null,\n                culture: \"\",\n                footer: \"\",\n                format: \"\",\n                month: {},\n                range: { start: null, end: null },\n                weekNumber: false,\n                views: 2,\n                showViewHeader: false,\n                selectable: SINGLE,\n                selectDates: [],\n                start: MONTH,\n                depth: MONTH,\n                messages: {\n                    weekColumnHeader: \"\"\n                }\n            },\n\n            events: [\n                CHANGE,\n                NAVIGATE\n            ],\n\n            setOptions: function(options) {\n                var that = this;\n\n                calendar.normalize(options);\n\n                options.disableDates = calendar.disabled(options.disableDates);\n\n                Widget.fn.setOptions.call(that, options);\n\n                that._selectable();\n\n                that._templates();\n\n                that._footer(that.footer);\n\n                for (var i = 0; i < that._views.length; i++) {\n                    that._views[i].off(ns).remove();\n                }\n\n                that._initViews({ viewName: options.start, value: options.value });\n\n                that._range = options.range || { start: null, end: null };\n\n                that._restoreSelection();\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that._cell = null;\n                that._currentView = null;\n                that._current = null;\n\n                if (that._views) {\n                    for (var i = 0; i < that._views.length; i++) {\n                        that._views[i].off(ns).remove();\n                    }\n                }\n\n                that.element.off(ns);\n\n                if (that.header) {\n                    that.header.off(ns);\n                    that._title = null;\n                    that.header = null;\n                }\n\n                if (that.selectable) {\n                    that.selectable.destroy();\n                    that.selectable = null;\n                }\n\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.destroy();\n                    that.rangeSelectable = null;\n                }\n\n                if (that._today) {\n                    kendo.destroy(that._today.off(ns));\n                }\n\n                that._views = null;\n\n                Widget.fn.destroy.call(that);\n            },\n\n            current: function() {\n                return this._current;\n            },\n\n            focus: function() {\n                this.tablesWrapper.trigger(\"focus\");\n            },\n\n            min: function(value) {\n                return this._option(MIN, value);\n            },\n\n            max: function(value) {\n                return this._option(\"max\", value);\n            },\n\n            view: function() {\n                return this._currentView;\n            },\n\n            navigateToPast: function() {\n                this._navigate(PREVARROW, -1);\n            },\n\n            navigateToFuture: function() {\n                this._navigate(NEXTARROW, 1);\n            },\n\n            navigateUp: function() {\n                var that = this,\n                index = that._index;\n\n                if (that._title.hasClass(DISABLED)) {\n                    return;\n                }\n\n                that.navigate(that._current, ++index);\n            },\n\n            navigateDown: function(value) {\n                var that = this,\n                index = that._index,\n                depth = that.options.depth;\n\n                if (!value) {\n                    return;\n                }\n\n                if (index === views[depth]) {\n                    if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                        that.value(value);\n                        that.trigger(CHANGE);\n                    }\n                    return;\n                }\n\n                that.navigate(value, --index);\n            },\n\n            navigate: function(value, view) {\n                view = isNaN(view) ? calendar.views[calendar.viewsEnum[view]] : calendar.views[view];\n\n                var that = this;\n                var options = that.options;\n                var min = options.min;\n                var max = options.max;\n\n                if (!value) {\n                    that._current = value = new DATE(+calendar.restrictValue(value, min, max));\n                } else {\n                    that._current = value;\n                }\n\n                if (view === undefined$1) {\n                    view = that._currentView;\n                }\n\n                that._currentView = view;\n\n                for (var i = 0; i < that._views.length; i++) {\n                    that._views[i].off(ns).remove();\n                }\n\n                that._initViews({ viewName: view.name, value: value });\n\n                that._restoreSelection();\n            },\n\n            _aria: function() {\n                var tables = this.tablesWrapper.find(TABLE),\n                    rowGroups = tables.first().find(THEAD).add(tables.find(TBODY)),\n                    viewName = this._currentView.name;\n\n                tables.removeAttr(TABINDEX);\n\n                tables.attr({\n                    role: NONE\n                });\n\n                rowGroups.attr({\n                    role: ROWGROUP\n                });\n\n                if (viewName === MONTH) {\n                    this._ariaMonth();\n                }\n            },\n\n            _ariaMonth: function() {\n                var tables = this.tablesWrapper.find(TABLE),\n                    rowGroups = tables.first().find(THEAD).add(tables.find(TBODY)),\n                    rows = rowGroups.find(TR),\n                    noHeaderRows = tables.not(\":eq(0)\").find(THEAD + EMPTY + TR),\n                    noHeaderCells = noHeaderRows.find(TH),\n                    columnHeaderCells = tables.first().find(THEAD + EMPTY + TH),\n                    rowHeaderCells = tables.find(TBODY + EMPTY + TH),\n                    outOfRange = tables.find(DOT + OUTOFRANGE),\n                    ariaDataCells = function(i, row) {\n                        var $row = $(row),\n                            numberOfEmpty = $row.find(DOT + OUTOFRANGE).length,\n                            owned = [],\n                            prev, cells;\n\n                        if (i === 1) {\n                            $row.children()\n                                .filter(DOT + OUTOFRANGE)\n                                .attr({\n                                    \"aria-hidden\": \"false\",\n                                    role: GRIDCELL\n                                });\n                        } else if (numberOfEmpty === 7) {\n                            $row.removeAttr(ROLE);\n                            $row.find(TH).removeAttr(ROLE);\n                        } else if (numberOfEmpty > 0 && numberOfEmpty < 7 && $row.children().not(TH).first().hasClass(OUTOFRANGE)) {\n                            $row.find(TH).removeAttr(ROLE);\n                            prev = rows.eq(i - 1);\n\n                            if (!prev.attr(ROLE) || prev.attr(ROLE) === NONE) {\n                                prev = rows.eq(i - 2);\n                            }\n\n                            cells = $row.children().not(TH);\n\n                            cells.each(function(j, cell) {\n                                var $cell = $(cell),\n                                    id;\n\n                                if (!$cell.hasClass(OUTOFRANGE)) {\n                                    id = \"owned_\" + i + \"_\" + j;\n                                    $cell.attr(ID, id);\n                                    owned.push(id);\n                                }\n                            });\n\n                            $row.removeAttr(ROLE);\n                            prev.attr(ARIA_OWNS, owned.join(\" \"));\n                        }\n                    };\n\n                columnHeaderCells.attr({\n                    role: COLUMNHEADER\n                });\n\n                rowHeaderCells.attr({\n                    role: ROWHEADER\n                });\n\n                outOfRange.removeAttr(ROLE);\n                noHeaderRows.removeAttr(ROLE);\n                noHeaderCells.removeAttr(ARIA_LABEL).removeAttr(ROLE);\n\n                rows.each(ariaDataCells);\n            },\n\n            _updateHeader: function() {\n                var that = this;\n                var view = that._currentView;\n                var title = that._title;\n                var value = that._firstViewValue;\n                var options = that.options;\n                var visibleRange = that._visibleRange();\n                var culture = options.culture;\n                var min = options.min;\n                var max = options.max;\n                var lastDate;\n                var disabled;\n                var prevDisabled;\n                var nextDisabled;\n\n                if (view.name === DECADE || view.name === CENTURY) {\n                    lastDate = shiftDate(value, view.name, options.views - 1);\n                    if (!isInRange(lastDate, min, max)) {\n                        lastDate = max;\n                    }\n\n                    title.html('<span class=\"k-button-text\">' + view.first(value).getFullYear() + \" - \" + view.last(lastDate).getFullYear() + \"</span>\");\n                } else {\n                    title.html('<span class=\"k-button-text\">' + view.title(value, min, max, culture) + \" - \" + view.title(shiftDate(value, view.name, options.views - 1), min, max, culture) + \"</span>\");\n                }\n\n                disabled = view.name === CENTURY;\n                title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n                prevDisabled = view.compare(visibleRange.start, that.options.min) < 1;\n                nextDisabled = view.compare(visibleRange.end, that.options.max) > -1;\n\n                if (prevDisabled && nextDisabled) {\n                    if (that._navContainer) {\n                        that._navContainer.remove();\n                        that._navContainer = null;\n                    }\n                } else {\n                    if (!that._navContainer) {\n                        that._navContainer = $('<span class=\"k-calendar-nav k-hstack\">' +\n                        '<a tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-prev-view\" ' + ARIA_LABEL + \"=\\\"Previous\\\">\" + (kendo.ui.icon({ icon: \"chevron-left\", iconClass: \"k-button-icon\" })) + \"</a>\" +\n                        '<a tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-next-view\" ' + ARIA_LABEL + \"=\\\"Next\\\">\" + (kendo.ui.icon({ icon: \"chevron-right\", iconClass: \"k-button-icon\" })) + \"</a>\" +\n                        '</span>').appendTo(that.header);\n                        that[PREVARROW] = that._navContainer.find(\".k-calendar-prev-view\");\n                        that[NEXTARROW] = that._navContainer.find(\".k-calendar-next-view\");\n                    }\n\n                    that[PREVARROW].toggleClass(DISABLED, prevDisabled).attr(ARIA_DISABLED, prevDisabled);\n                    if (that[PREVARROW].hasClass(DISABLED)) {\n                        that[PREVARROW].removeClass(HOVER);\n                    }\n\n                    that[NEXTARROW].toggleClass(DISABLED, nextDisabled).attr(ARIA_DISABLED, nextDisabled);\n                    if (that[NEXTARROW].hasClass(DISABLED)) {\n                        that[NEXTARROW].removeClass(HOVER);\n                    }\n                }\n            },\n\n            _mouseEnter: function(e) {\n                var that = this;\n                var cell = $(e.currentTarget);\n                var range;\n                var items;\n                var startIdx;\n                var endIdx;\n\n                cell.addClass(HOVER);\n\n                if (that.rangeSelectable && that._currentView.name === MONTH) {\n                    range = that.selectRange();\n                    if (range.start && !range.end) {\n                        if (that._dateInViews(that.selectRange().start)) {\n                            items = that.element.find(that.rangeSelectable.options.filter);\n                            startIdx = $.inArray($(that.rangeSelectable._start)[0], items);\n                            endIdx = $.inArray($(cell)[0], items);\n                            if (startIdx > endIdx) {\n                                return;\n                            }\n                            that.rangeSelectable.range(that.rangeSelectable._start, cell);\n                        } else if (+toDateObject(that.element.find(CELLSELECTOR).first().find(\"a\")) > +range.start) {\n                            that.rangeSelectable.selectTo(cell);\n                        }\n                        that.rangeSelectable._end = null;\n                    }\n                }\n            },\n\n            _move: function(e) {\n                var that = this;\n                var options = that.options;\n                var key = e.keyCode;\n                var index = that._index;\n                var min = options.min;\n                var max = options.max;\n                var focusedCell = that.element.find(DOT + FOCUSED);\n                var table = focusedCell.closest(TABLE);\n                var currentValue = new DATE(+(that._current || toDateObject(focusedCell.find(\"a\"))));\n                var isRtl = kendo.support.isRtl(that.wrapper);\n                var navigate = false;\n                var value, prevent, method, cell, lastActive, cellIndex, triggerChange;\n\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    value = 1;\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    value = -1;\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    value = index === 0 ? -7 : -4;\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    value = index === 0 ? 7 : 4;\n                    prevent = true;\n                } else if (key == keys.SPACEBAR) {\n                    value = 0;\n                    prevent = true;\n                } else if (key == keys.HOME) {\n                    prevent = true;\n                    cell = table.find(CELLSELECTORVALID).eq(0);\n                    if (cell.hasClass(FOCUSED)) {\n                        table = table.prev();\n                        if (table.length) {\n                            that._focusCell(table.find(CELLSELECTORVALID).eq(0));\n                        } else {\n                            navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                            that._navigate(PREVARROW, -1);\n                            that._focusCell(that.element.find(TABLE).first().find(CELLSELECTORVALID).first());\n                        }\n                    } else {\n                        that._focusCell(cell);\n                    }\n                } else if (key == keys.END) {\n                    prevent = true;\n                    cell = table.find(CELLSELECTORVALID).last();\n                    if (cell.hasClass(FOCUSED)) {\n                        table = table.next();\n                        if (table.length) {\n                            that._focusCell(table.find(CELLSELECTORVALID).last());\n                        } else {\n                            navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                            that._navigate(NEXTARROW, 1);\n                            that._focusCell(that.element.find(TABLE).last().find(CELLSELECTORVALID).last());\n                        }\n                    } else {\n                        that._focusCell(cell);\n                    }\n                } else if (key === 84) {\n                    that._todayClick(e);\n                    prevent = true;\n                }\n\n                if (e.ctrlKey || e.metaKey) {\n                    if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                        navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                        that._navigate(NEXTARROW, 1);\n                        prevent = true;\n                    } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                        navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                        that._navigate(PREVARROW, -1);\n                        prevent = true;\n                    } else if (key == keys.UP) {\n                        navigate = !that._title.hasClass(DISABLED);\n                        that.navigateUp();\n                        that._focusCell(that._cellByDate(that._current));\n                        prevent = true;\n                    } else if (key == keys.DOWN) {\n                        if (that._currentView.name === MONTH) {\n                            that.value(currentValue);\n                        } else {\n                            that.navigateDown(currentValue);\n                            that._focusCell(that._cellByDate(that._current));\n                            navigate = true;\n                        }\n                        prevent = true;\n                    } else if ((key == keys.ENTER || key == keys.SPACEBAR)) {\n                        if (options.selectable === MULTIPLE) {\n                            that._toggleSelection(e);\n                        }\n                    }\n                } else if (e.shiftKey && options.selectable !== SINGLE) {\n                    if (value !== undefined$1 || method) {\n                        if (!method) {\n                            that._currentView.setDate(currentValue, value);\n                        }\n\n                        if (that._currentView.name !== MONTH) {\n                            return;\n                        }\n\n                        if (options.disableDates(currentValue)) {\n                            currentValue = that._nextNavigatable(currentValue, value);\n                        }\n\n                        min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                        if (isInRange(currentValue, min, max)) {\n                            if (!that._dateInViews(currentValue)) {\n                                if (value > 0) {\n                                    navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, 1);\n                                } else {\n                                    navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                    that._navigate(PREVARROW, -1);\n                                }\n                            }\n                            cell = that._cellByDate(currentValue);\n                            that._current = currentValue;\n\n                            if (that.selectable) {\n                                that._selectRange(toDateObject((that.selectable._lastActive || focusedCell).find(\"a\")), currentValue);\n                                if (!that.selectable._lastActive) {\n                                    that.selectable._lastActive = focusedCell;\n                                }\n                                that.trigger(CHANGE);\n                                that._focusCell(cell);\n                            }\n\n                            if (that.rangeSelectable) {\n                                lastActive = toDateObject((that.rangeSelectable._lastActive || focusedCell).find(\"a\"));\n                                if (!that._dateInViews(lastActive)) {\n                                    if (+lastActive > +currentValue) {\n                                        that.rangeSelectable._end = that.rangeSelectable._lastActive;\n                                        that.rangeSelectable.selectFrom(cell);\n                                    } else {\n                                        that.rangeSelectable.selectTo(cell);\n                                    }\n                                } else {\n                                    if (that.rangeSelectable._end && that.rangeSelectable._end.is(DOT + FOCUSED)) {\n                                        that.rangeSelectable._lastActive = that.rangeSelectable._start;\n                                    } else {\n                                        that.rangeSelectable._lastActive = that._cellByDate(lastActive);\n                                    }\n                                    that.rangeSelectable.range(that.rangeSelectable._lastActive, cell);\n                                }\n                                that.rangeSelectable.change();\n                                that._focusCell(cell);\n                            }\n                        }\n                    }\n                } else {\n                    if (key == keys.ENTER || key == keys.SPACEBAR) {\n                        if (that._currentView.name === MONTH) {\n                            triggerChange = !focusedCell.hasClass(SELECTED) || that.element.find(DOT + SELECTED).length > 1;\n                            that.value(currentValue);\n                            if (that.selectable) {\n                                that.selectable._lastActive = that._cellByDate(currentValue);\n                                if (triggerChange) {\n                                    that.selectable.trigger(CHANGE, { event: e });\n                                }\n                            }\n                            if (that.rangeSelectable) {\n                                that.rangeSelectable.change();\n                            }\n                        } else {\n                            that._click($(that._cell[0].firstChild));\n                        }\n                        prevent = true;\n                    } else if (key == keys.PAGEUP || key == keys.PAGEDOWN) {\n                        prevent = true;\n                        cellIndex = table.find(CELLSELECTORVALID).index(focusedCell);\n                        table = key == keys.PAGEUP ? table.prev() : table.next();\n                        if (!table.length) {\n                            if (key == keys.PAGEUP) {\n                                navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                that.navigateToPast();\n                                table = that.element.find(TABLE).first();\n                            } else {\n                                navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                that.navigateToFuture();\n                                table = that.element.find(TABLE).last();\n                            }\n                        }\n                        cell = table.find(CELLSELECTORVALID).eq(cellIndex);\n                        if (cell.length) {\n                            that._focusCell(cell);\n                        } else {\n                            that._focusCell(table.find(CELLSELECTORVALID).last());\n                        }\n                    }\n\n                    if (value || method) {\n                        if (!method) {\n                            that._currentView.setDate(currentValue, value);\n                        }\n\n                        min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                        if (isInRange(currentValue, min, max)) {\n                            if (that.selectable && options.disableDates(currentValue)) {\n                                currentValue = that._nextNavigatable(currentValue, value);\n                            }\n                            if (!that._dateInViews(currentValue)) {\n                                if (value > 0) {\n                                    navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, 1);\n                                } else {\n                                    navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, -1);\n                                }\n                            }\n                            cell = that._cellByDate(currentValue);\n                            that._current = currentValue;\n                            that._focusCell(cell);\n                        }\n                    }\n                }\n\n                if (navigate) {\n                    that.trigger(NAVIGATE);\n                }\n\n                if (prevent) {\n                    e.preventDefault();\n                }\n\n                return that._current;\n\n            },\n\n            _visualizeSelectedDatesInView: function() {\n                var that = this;\n                var selectedDates = {};\n                var cells;\n\n                $.each(that._selectDates, function(index, value) {\n                    selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n                });\n                that.selectable.clear();\n                cells = that.element.find(TABLE)\n                    .find(CELLSELECTOR)\n                    .filter(function(index, element) {\n                        return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                    });\n\n                if (cells.length > 0) {\n                    that.selectable._selectElement(cells, true);\n                }\n            },\n\n            _nextNavigatable: function(currentValue, value) {\n                var that = this;\n                var disabled = true;\n                var view = that._currentView;\n                var min = that.options.min;\n                var max = that.options.max;\n                var isDisabled = that.options.disableDates;\n                var navigatableDate = new Date(currentValue.getTime());\n\n                view.setDate(navigatableDate, -value);\n                while (disabled) {\n                    view.setDate(currentValue, value);\n                     if (!isInRange(currentValue, min, max)) {\n                        currentValue = navigatableDate;\n                        break;\n                    }\n                    disabled = isDisabled(currentValue);\n                }\n                return currentValue;\n            },\n\n            _toggleSelection: function(event) {\n                var that = this;\n\n                that.selectable._lastActive = $(that._cell[0]);\n\n                if ($(that._cell[0]).hasClass(SELECTED)) {\n                    that.selectable._unselect($(that._cell[0]));\n                }\n                else {\n                    that.selectable.value($(that._cell[0]));\n                }\n                that.selectable.trigger(CHANGE, { event: event });\n            },\n\n            _option: function(option, value) {\n                var that = this;\n                var options = that.options;\n                var currentValue = that._value || that._current;\n                var isBigger;\n\n                if (value === undefined$1) {\n                    return options[option];\n                }\n\n                value = kendo.parseDate(value, options.format, options.culture);\n\n                if (!value) {\n                    return;\n                }\n\n                options[option] = new DATE(+value);\n\n                if (option === MIN) {\n                    isBigger = value > currentValue;\n                } else {\n                    isBigger = currentValue > value;\n                }\n\n                if (isBigger) {\n                    that._value = null;\n                }\n\n                that.navigate(that._value);\n\n                that._toggle();\n            },\n\n            _cellByDate: function(value) {\n                if (value instanceof Date) {\n                    value = this._currentView.toDateString(value);\n                }\n                return this.element.find(TABLE).find(\"td:not(.\" + OTHERMONTH + \")\")\n                .filter(function() {\n                    return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n                });\n            },\n\n            _selectable: function() {\n                var that = this;\n                var selectable = that.options.selectable;\n\n                if (that.selectable) {\n                    that.selectable.destroy();\n                    that.selectable = null;\n                }\n\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.destroy();\n                    that.rangeSelectable = null;\n                }\n\n                if (selectable.toLowerCase() === RANGE) {\n                    that.rangeSelectable = new RangeSelectable(that.wrapper, {\n                        calendar: that,\n                        filter: \"table.k-month \" + CELLSELECTORVALID,\n                        change: that._rangeSelection.bind(that)\n                    });\n                } else {\n                    that.selectable = new Selectable(that.wrapper, {\n                        aria: true,\n                        dragToSelect: false,\n                        inputSelectors: \"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,span.k-svg-icon.k-svg-i-caret-alt-down,span.k-svg-icon.k-svg-i-caret-alt-up\",\n                        multiple: Selectable.parseOptions(selectable).multiple,\n                        filter: \"table.k-content \" + CELLSELECTORVALID,\n                        change: that._selection.bind(that),\n                        relatedTarget: that._onRelatedTarget.bind(that),\n                        unselect: that._unselecting.bind(that)\n                    });\n                }\n            },\n\n            _onRelatedTarget: function(target) {\n                var that = this;\n\n                if (that.selectable.options.multiple && target.is(CELLSELECTORVALID) && target.length > 1) {\n                    that._focusCell(target.first(), true);\n                }\n            },\n\n            _getFirstViewDate: function(currentView) {\n                var that = this;\n                var options = that.options;\n                var ranges = [];\n                var start;\n                var end;\n                var current = new Date(+that._current);\n                var i;\n\n                for (i = 0; i < options.views; i++) {\n                    start = currentView.first(current);\n                    end = currentView.last(current);\n\n                    if (+end > +options.max) {\n                        if (+start <= +options.max) {\n                            ranges.push({ start: start, end: new Date(+options.max) });\n                        }\n                        break;\n                    }\n\n                    ranges.push({ start: start, end: end });\n\n                    current = new Date(+shiftDate(end, currentView.name, 1));\n                }\n\n                current = new Date(+that._current);\n\n                for (i = 0; i < options.views; i++) {\n                    start = currentView.first(current);\n                    end = currentView.last(current);\n\n                    if (+start < +options.min) {\n                        if (+end >= +options.min) {\n                            ranges.push({ start: new Date(+options.min), end: end });\n                        }\n                        break;\n                    }\n\n                    ranges.push({ start: start, end: end });\n\n                    current = new Date(+shiftDate(start, currentView.name, -1));\n                }\n\n                start = ranges[0].start;\n\n                for (i = 0; i < options.views + 1; i++) {\n                    if (!ranges[i]) {\n                        break;\n                    }\n\n                    if (+start > +ranges[i].start) {\n                        start = ranges[i].start;\n                    }\n                }\n\n                return new Date(+start);\n            },\n\n            _canRenderNextView: function(viewDate) {\n                var fullYear = viewDate.getFullYear();\n                var month = viewDate.getMonth();\n                var date = viewDate.getDate();\n                var max = this.options.max;\n                var maxYear = max.getFullYear();\n                var maxMonth = max.getMonth();\n\n\n                if (fullYear < maxYear) {\n                    return true;\n                }\n\n                if (fullYear === maxYear && month < maxMonth) {\n                    return true;\n                }\n\n                if (fullYear === maxYear && month === maxMonth && date < max.getDate()) {\n                    return true;\n                }\n\n                if (fullYear === maxYear && month === maxMonth && date === max.getDate()) {\n                    return true;\n                }\n\n                return false;\n            },\n\n            _initViews: function(viewOptions) {\n                var that = this;\n                var options = that.options;\n                var index = calendar.viewsEnum[viewOptions.viewName];\n                var currentView = calendar.views[index];\n                var viewDate;\n\n                that._current = new DATE(+calendar.restrictValue(viewOptions.value, options.min, options.max));\n                that._views = [];\n                that._index = index;\n                viewDate = that._getFirstViewDate(currentView);\n                viewDate.setDate(1);\n\n                that._firstViewValue = new Date(+viewDate);\n\n                for (var i = 0; i < options.views; i++) {\n                    viewDate = i ? shiftDate(viewDate, currentView.name, 1) : viewDate;\n                    viewDate.setDate(1);\n\n                    if (!that._canRenderNextView(viewDate)) {\n                        break;\n                    }\n\n                    that._table = $(currentView.content($.extend({\n                        min: options.min,\n                        max: options.max,\n                        date: viewDate,\n                        url: options.url,\n                        dates: options.dates,\n                        format: options.format,\n                        culture: options.culture,\n                        disableDates: options.disableDates,\n                        showHeader: options.showViewHeader,\n                        isWeekColumnVisible: options.weekNumber,\n                        otherMonth: options.otherMonth,\n                        messages: options.messages,\n                        contentClasses: \"k-calendar-table k-content\"\n                    }, that[currentView.name])));\n\n                    that._table.appendTo(that.tablesWrapper).addClass(\"k-\" + currentView.name);\n                    that._views.push(that._table);\n                }\n\n                that._currentView = currentView;\n\n                that.tablesWrapper.attr(\"class\", \"k-calendar-view k-calendar-\" + currentView.name + \"view k-hstack k-align-items-start k-justify-content-center\");\n\n                that._updateHeader();\n\n                that._aria();\n            },\n\n            _rangeSelection: function(e) {\n                var that = this;\n                var range = e.sender.range();\n                var useEnd = e.sender._useEnd;\n                var useStart = e.sender._useStart;\n                var initialRange = that.selectRange() || {};\n                var start;\n                var end;\n\n                if (range.start) {\n                    start = toDateObject(range.start.find(\"a\"));\n                }\n\n                if (range.end) {\n                    end = toDateObject(range.end.find(\"a\"));\n                }\n\n                that._range = { start: useStart ? initialRange.start : start, end: useEnd ? initialRange.end : end };\n\n                if (!that._preventChange) {\n                    that.trigger(CHANGE);\n                }\n            },\n\n            _selection: function(e) {\n                var that = this;\n                var selectElements = e.sender.value();\n                var domEvent = e.event;\n                var currentTarget = $(domEvent && domEvent.currentTarget);\n                var isCell = currentTarget.is(TD);\n                var currentValue;\n\n                if (that.options.selectable === SINGLE) {\n                    that._validateValue(selectElements[0] ? toDateObject(selectElements.first().find(\"a\")) : e.sender._lastActive ? toDateObject(e.sender._lastActive.find(\"a\")) : that.value());\n                }\n\n                if (that.options.selectable == MULTIPLE) {\n\n                    if (isCell) {\n                        currentValue = toDateObject(currentTarget.find(\"a\"));\n                    }\n\n                    if (domEvent && domEvent.ctrlKey) {\n                        if (isCell) {\n                            if (currentTarget.hasClass(SELECTED)) {\n                                that._selectDates.push(currentValue);\n                            } else {\n                                that._deselect(currentValue);\n                            }\n                        } else {\n                            that.element.find(\"table \" + CELLSELECTORVALID).each(function(index, element) {\n                                var value = toDateObject($(element).find(\"a\"));\n                                that._deselect(value);\n                            });\n                            that._addSelectedCellsToArray();\n                        }\n                    } else if (domEvent && domEvent.shiftKey) {\n                        that._selectRange(toDateObject(e.sender._lastActive ? e.sender._lastActive.find(\"a\") : selectElements.first().find(\"a\")), currentValue);\n                    } else if (isCell) {\n                        that._selectDates = [];\n                        that._selectDates.push(currentValue);\n                    } else {\n                        that._selectDates = [];\n                        that._addSelectedCellsToArray();\n                    }\n                }\n\n                if (!that._preventChange) {\n                    that.trigger(CHANGE);\n                }\n            },\n\n            _addSelectedCellsToArray: function() {\n                var that = this;\n                if (!that.selectable) {\n                    return;\n                }\n                that.selectable.value().each(function(index, item) {\n                    var date = toDateObject($(item.firstChild));\n                    if (!that.options.disableDates(date)) {\n                        that._selectDates.push(date);\n                    }\n                });\n            },\n\n            _deselect: function(date) {\n                var that = this;\n                var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n                 if (currentDateIndex != -1) {\n                    that._selectDates.splice(currentDateIndex, 1);\n                }\n            },\n\n            _unselecting: function(e) {\n                var that = this;\n                var element = e.element;\n\n                if (that.options.selectable === SINGLE && !mobileOS && element.hasClass(FOCUSED)) {\n                    e.preventDefault();\n                }\n            },\n\n            _visibleRange: function() {\n                var tables = this.element.find(DOT + CALENDAR_VIEW + EMPTY + TABLE);\n                var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR).first().find(\"a\"));\n                var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR).last().find(\"a\"));\n                return { start: firstDateInView, end: lastDateInView };\n            },\n\n            _dateInViews: function(date) {\n                var that = this;\n                var tables = that.element.find(DOT + CALENDAR_VIEW + EMPTY + TABLE);\n                var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR).first().find(\"a\"));\n                var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR).last().find(\"a\"));\n\n                date = new Date(date.toDateString());\n\n                return +date <= +lastDateInView && +date >= +firstDateInView;\n            },\n\n            _fillRange: function(start, end) {\n                var that = this;\n                var daysDifference;\n\n                that._selectDates = [];\n                daysDifference = daysBetweenTwoDates(start, end);\n                addDaysToArray(that._selectDates, daysDifference, start, that.options.disableDates);\n            },\n\n            _selectRange: function(start, end) {\n                var that = this;\n                var current;\n\n                if (+end < +start) {\n                    current = end;\n                    end = start;\n                    start = current;\n                }\n\n                that._fillRange(start, end);\n                that._visualizeSelectedDatesInView();\n            },\n\n            _header: function() {\n                var that = this;\n                var element = that.element;\n                var buttons;\n                var header = element.find(\".k-calendar-header\");\n\n                if (!header.length) {\n                    header = $('<div class=\"k-calendar-header k-hstack\">' +\n                        '<a id=\"calendar-title\" tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-calendar-title k-title k-button k-button-md k-rounded-md k-button-flat k-button-flat-base\" aria-live=\"polite\"></a>' +\n                        '<span class=\"k-spacer\"></span>' +\n                        '<span class=\"k-calendar-nav k-hstack\">' +\n                            '<a tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-prev-view\" ' + ARIA_LABEL + \"=\\\"Previous\\\">\" + (kendo.ui.icon({ icon: \"chevron-left\", iconClass: \"k-button-icon\" })) + \"</a>\" +\n                            '<a tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-next-view\" ' + ARIA_LABEL + \"=\\\"Next\\\">\" + (kendo.ui.icon({ icon: \"chevron-right\", iconClass: \"k-button-icon\" })) + \"</a>\" +\n                        '</span>' +\n                    '</div>').prependTo(element);\n                }\n\n                that.header = header;\n\n                header.on(MOUSEENTER + ns + \" \" + MOUSELEAVE_NS + \" \" + FOCUS + ns + \" \" + BLUR + ns, \".k-button\", mousetoggle)\n                    .on(CLICK, function() { return false; })\n                    .on(CLICK + ns, \".k-button.k-calendar-title\", that._calendarTitleClick.bind(that))\n                    .on(CLICK + ns, \".k-button.k-calendar-prev-view\", that._prevViewClick.bind(that))\n                    .on(CLICK + ns, \".k-button.k-calendar-next-view\", that._nextViewClick.bind(that));\n\n                buttons = header.find(\".k-button\");\n\n                that._title = buttons.filter(\".k-calendar-title\");\n                that._navContainer = header.find(\".k-calendar-nav\");\n                that[PREVARROW] = buttons.filter(\".k-calendar-prev-view\");\n                that[NEXTARROW] = buttons.filter(\".k-calendar-next-view\");\n            },\n\n            _calendarTitleClick: function() {\n                this.navigateUp();\n                this.focus();\n                this.trigger(NAVIGATE);\n            },\n\n            _prevViewClick: function(e) {\n                e.preventDefault();\n                this.navigateToPast();\n                this.focus();\n                this.trigger(NAVIGATE);\n            },\n\n            _nextViewClick: function(e) {\n                e.preventDefault();\n                this.navigateToFuture();\n                this.focus();\n                this.trigger(NAVIGATE);\n            },\n\n            _wrapper: function() {\n                this.tablesWrapper = $('<div tabindex=\"0\" role=\"grid\" class=\"k-calendar-view\" aria-labelledby=\"calendar-title\" />').insertAfter(this.element[0].firstChild);\n            },\n\n            _templates: function() {\n                var that = this;\n                var options = that.options;\n                var month = options.month;\n                var content = month.content;\n                var weekNumber = month.weekNumber;\n                var empty = month.empty;\n\n                that.month = {\n                    content: template(function (data) { return (\"<td class=\\\"\" + (data.cssClass) + \"\\\" role=\\\"gridcell\\\"><a tabindex=\\\"-1\\\" class=\\\"k-link\" + (data.linkClass) + \"\\\" href=\\\"\" + (data.url) + \"\\\" \" + (kendo.attr(VALUE)) + \"=\\\"\" + (data.dateString) + \"\\\" title=\\\"\" + (data.title) + \"\\\">\" + (content ? kendo.template(content, { useWithBlock: !!content })(data) : data.value) + \"</a></td>\"); }, { useWithBlock: !!content }),\n                    empty: template(function (data) { return (\"<td role=\\\"gridcell\\\"\" + (empty ? '>' : ' class=\"k-calendar-td k-out-of-range\">') + ((empty ? kendo.template(empty, { useWithBlock: !!empty })(data) : \"<a class='k-link'></a>\")) + \"</td>\"); }, { useWithBlock: !!empty }),\n                    weekNumber: template(function (data) { return (\"<th class=\\\"k-calenar-td k-alt\\\">\" + (weekNumber ? kendo.template(weekNumber, { useWithBlock: !!weekNumber })(data) : data.weekNumber) + \"</th>\"); }, { useWithBlock: !!weekNumber })\n                };\n            },\n\n            _footer: function() {\n                var that = this;\n                var options = that.options;\n                var template = options.footer !== false ? kendo.template(that.options.footer || (function (data) { return kendo.toString(data,\"D\", options.culture); }), { useWithBlock: false }) : null;\n                var today = getToday();\n                var element = that.element;\n                var footer = element.find(\".k-footer\");\n\n                if (!template) {\n                    that._toggle(false);\n                    footer.hide();\n                    return;\n                }\n\n                if (!footer[0]) {\n                    footer = $(\"<div class=\\\"k-footer\\\">\\n                    <button tabindex=\\\"-1\\\" class=\\\"k-calendar-nav-today k-flex k-button k-button-md k-button-flat k-button-flat-primary k-rounded-md\\\">\\n                        <span class=\\\"k-button-text\\\"></span>\\n                    </button>\\n                </div>\").appendTo(element);\n                }\n\n                that._today = footer.show()\n                    .find(\".k-button-flat-primary\")\n                    .attr(\"title\", kendo.toString(today, \"D\", that.options.culture));\n\n                footer.find(\".k-button-text\")\n                    .html(template(today));\n\n                that._toggle();\n            },\n\n            _navigate: function(arrow, modifier) {\n                var that = this;\n                var index = that._index + 1;\n                var currentValue = new DATE(+that._current);\n                var originaValue = new DATE(+that._current);\n                var offset;\n\n                arrow = that[arrow];\n\n                offset = that._cellByDate(currentValue).closest(TABLE).index();\n\n                if (modifier > 0) {\n                    offset = 1 - offset;\n                } else {\n                    offset = offset + 1;\n                }\n\n                if (!arrow || !arrow.hasClass(DISABLED)) {\n                    if (index > 3) {\n                        currentValue.setFullYear(currentValue.getFullYear() + 100 * (modifier * offset));\n                    } else {\n                        calendar.views[index].setDate(currentValue, (modifier * offset));\n                    }\n\n                    that.navigate(currentValue);\n\n                    if (that._dateInViews(originaValue)) {\n                        that._focusCell(that._cellByDate(originaValue));\n                        that._current = originaValue;\n                    } else {\n                        if (index > 3) {\n                            originaValue.setFullYear(originaValue.getFullYear() + 100 * modifier);\n                        } else {\n                            calendar.views[index].setDate(originaValue, modifier);\n                        }\n                        that._focusCell(that._cellByDate(originaValue));\n                        that._current = originaValue;\n                    }\n                }\n            },\n\n            _toggle: function(toggle) {\n                var that = this;\n                var options = that.options;\n                var isTodayDisabled = options.selectable !== RANGE && that.options.disableDates(getToday());\n                var link = that._today;\n\n                if (toggle === undefined$1) {\n                    toggle = isInRange(getToday(), options.min, options.max);\n                }\n\n                if (link) {\n                    link.off(CLICK + ns);\n\n                    if (toggle && !isTodayDisabled) {\n                        link.addClass(TODAY)\n                        .removeClass(DISABLED)\n                        .on(CLICK + ns, function(e) { that._todayClick(e); that.focus(); });\n                    } else {\n                        link.removeClass(TODAY)\n                        .addClass(DISABLED)\n                        .on(CLICK + ns, function prevent(e) {\n                            e.preventDefault();\n                        });\n                    }\n                }\n            },\n\n            _click: function(link) {\n                var that = this;\n                var options = that.options;\n                var currentValue = new Date(+that._current);\n                var value = toDateObject(link);\n\n                kendo.date.adjustDST(value, 0);\n\n                that._currentView.setDate(currentValue, value);\n                that._current = value;\n\n                if (that._currentView.name !== options.depth) {\n                    that.navigateDown(calendar.restrictValue(currentValue, options.min, options.max));\n                    that._focusCell(that._cellByDate(that._current));\n                    that.trigger(NAVIGATE);\n                } else {\n                    that._focusCell(link.closest(TD));\n                }\n\n                that.focus();\n            },\n\n            _blur: function() {\n                var that = this;\n\n                if (that._cell) {\n                    that._cell.removeClass(FOCUSED);\n                }\n            },\n\n            _focus: function() {\n                var cell = this._cell;\n\n                if (!cell || !$.contains(this.tablesWrapper[0], cell[0])) {\n                    if (this._current && this._dateInViews(this._current)) {\n                        cell = this._cellByDate(this._current);\n                    } else {\n                        cell = this.tablesWrapper.find(CELLSELECTORVALID).first();\n                    }\n                }\n\n                this._focusCell(cell);\n            },\n\n            _focusCell: function(cell) {\n                var that = this;\n                var cellId = that._cellID;\n\n                if (that._cell && that._cell.length) {\n                    that._cell[0].removeAttribute(ARIA_LABEL);\n                    that._cell.removeClass(FOCUSED);\n                    that.tablesWrapper.removeAttr(ARIA_ACTIVEDESCENDANT);\n\n                    if (that._cell.attr(ID) === cellId) {\n                        that._cell[0].removeAttribute(ID);\n                    }\n                }\n\n                that._cell = cell;\n\n                if (cell.attr(ID)) {\n                    that.tablesWrapper.attr(ARIA_ACTIVEDESCENDANT, cell.attr(ID));\n                } else if (cellId) {\n                    cell.attr(ID, cellId);\n                    that.tablesWrapper.attr(ARIA_ACTIVEDESCENDANT, cellId);\n                }\n\n                cell.addClass(FOCUSED);\n\n                if (cell.length && that._currentView.name == MONTH) {\n                    that._current = toDateObject(cell.find(\"a\"));\n                }\n            },\n\n            _todayClick: function(e) {\n                var that = this;\n                var disabled = that.options.disableDates;\n                var today = getToday();\n                var navigate = false;\n\n                e.preventDefault();\n\n                if (disabled(today)) {\n                    return;\n                }\n\n                that._value = today;\n\n                if (that.options.selectable === MULTIPLE) {\n                    that._selectDates = [today];\n                }\n\n                if (that.options.selectable === RANGE) {\n                    that.rangeSelectable.clear(true);\n                    that._range = { start: today, end: null };\n                }\n\n                if (that._currentView.name != MONTH || !that._dateInViews(today)) {\n                    navigate = true;\n                }\n\n                that.navigate(today, that.options.depth);\n\n                if (that.options.selectable === SINGLE) {\n                    that.selectable._lastActive = null;\n                }\n\n                if (navigate) {\n                    that.trigger(NAVIGATE);\n                }\n\n                that.trigger(CHANGE);\n            },\n\n            _validateValue: function(value) {\n                var that = this;\n                var options = that.options;\n                var min = options.min;\n                var max = options.max;\n\n                value = kendo.parseDate(value, options.format, options.culture);\n\n                if (value !== null) {\n                    value = new DATE(+value);\n\n                    if (!isInRange(value, min, max)) {\n                        value = null;\n                    }\n                }\n\n                if (value === null || !that.options.disableDates(new Date(+value))) {\n                    that._value = value;\n                } else if (that._value === undefined$1) {\n                    that._value = null;\n                }\n\n                return that._value;\n            },\n\n            _updateAria: function(ariaTemplate, date) {\n                var that = this;\n                var cell = that._cellByDate(date || that.current());\n                var valueType = that.view().valueType();\n                var current = date || that.current();\n                var text;\n\n                that._focusCell(cell);\n\n                if (valueType === MONTH) {\n                    text = kendo.toString(current, \"MMMM\");\n                } else if (valueType === \"date\") {\n                    text = kendo.toString(current, \"D\");\n                } else {\n                    text = cell.text();\n                }\n\n                cell.attr(ARIA_LABEL, ariaTemplate({ current: current, valueType: valueType, text: text }));\n                return cell.attr(ID);\n            },\n\n            clearSelection: function() {\n                var that = this;\n\n                if (that.selectable) {\n                    that.element.find(DOT + SELECTED).removeClass(SELECTED).removeAttr(ARIA_SELECTED);\n                }\n\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.clear(true);\n                }\n            },\n\n            _restoreSelection: function() {\n                var that = this;\n                var range;\n                var selectable = that.options.selectable;\n\n                if (that._currentView.name !== that.options.depth) {\n                    return;\n                }\n\n                that._preventChange = true;\n\n                if (selectable === RANGE) {\n                    range = that.selectRange();\n\n                    if (!range || !range.start) {\n                        that._preventChange = false;\n                        return;\n                    }\n\n                    that.selectRange(range);\n                }\n\n                if (selectable === SINGLE && that.value()) {\n                    that.selectable.value(that._cellByDate(that.value()));\n                }\n\n                if (selectable === MULTIPLE) {\n                    that._visualizeSelectedDatesInView();\n                }\n\n                that._preventChange = false;\n            },\n\n            value: function(value) {\n                var that = this;\n                var cell;\n\n                if (value === undefined$1) {\n                    return that._value;\n                }\n\n                value = that._validateValue(value);\n\n                that.clearSelection();\n\n                if (value && !that._dateInViews(value)) {\n                    that.navigate(value);\n                }\n\n                if (value !== null && that._currentView.name === MONTH) {\n                    cell = that._cellByDate(value);\n\n                    if (that.selectable) {\n                        that.selectable.value(cell);\n                    }\n\n                    if (that.rangeSelectable) {\n                        that.rangeSelectable.start(cell);\n                        that.rangeSelectable._lastActive = cell;\n                    }\n                }\n            },\n\n            selectDates: function(dates) {\n                var that = this;\n                var validSelectedDates;\n                var datesUnique;\n\n                if (dates === undefined$1) {\n                    return that._selectDates;\n                }\n\n                datesUnique = dates\n                    .map(function(date) { return date.getTime(); })\n                    .filter(function(date, position, array) {\n                        return array.indexOf(date) === position;\n                    })\n                    .map(function(time) { return new Date(time); });\n\n                validSelectedDates = $.grep(datesUnique, function(value) {\n                    if (value) {\n                        return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                    }\n                });\n                that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : (datesUnique.length === 0 ? datesUnique : that._selectDates);\n                that._visualizeSelectedDatesInView();\n            },\n\n            selectRange: function(range) {\n                var that = this;\n                var startInRange;\n                var endInRange;\n                var visibleRange;\n\n                if (range === undefined$1) {\n                    return that._range;\n                }\n\n                that._range = range;\n\n                if (!range.start) {\n                    return;\n                }\n\n                visibleRange = that._visibleRange();\n\n                startInRange = that._dateInViews(range.start);\n                endInRange = range.end && that._dateInViews(range.end);\n\n                if (!startInRange && endInRange) {\n                    that.rangeSelectable.selectTo(that._cellByDate(range.end));\n                }\n\n                if (startInRange && endInRange) {\n                    that.rangeSelectable.range(that._cellByDate(range.start), that._cellByDate(range.end));\n                }\n\n                if (range.end && startInRange && !endInRange) {\n                    that.rangeSelectable.selectFrom(that._cellByDate(range.start));\n                }\n\n                if (!range.end && startInRange) {\n                    that.rangeSelectable.start(that._cellByDate(range.start));\n                }\n\n                if (+visibleRange.start > +range.start && +visibleRange.end < +range.end) {\n                    that.rangeSelectable.mid(that.element.find(CELLSELECTORVALID));\n                }\n            }\n        });\n\n        kendo.ui.plugin(MultiViewCalendar);\n\n        function mousetoggle(e) {\n            var disabled = $(this).hasClass(\"k-disabled\");\n\n            if (!disabled) {\n                $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n            }\n        }\n\n        function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n            for (var i = 0; i <= numberOfDays; i++) {\n                var nextDay = new Date(fromDate.getTime());\n                nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n                if (!disableDates(nextDay)) {\n                    array.push(nextDay);\n                }\n            }\n        }\n\n        function daysBetweenTwoDates(startDate, endDate) {\n            if (+endDate < +startDate) {\n                var temp = +startDate;\n                calendar.views[0].setDate(startDate, endDate);\n                calendar.views[0].setDate(endDate, new Date(temp));\n            }\n            var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n            var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n            return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n        }\n\n        function shiftDate(value, dimension, numberOfViews) {\n            var current;\n            if (dimension === MONTH) {\n                current = new DATE(value.getFullYear(), value.getMonth() + numberOfViews, value.getDate());\n                current.setFullYear(value.getFullYear());\n                if (Math.abs(current.getMonth() - value.getMonth()) > numberOfViews || numberOfViews > 10) {\n                    current.setMonth(value.getMonth() + numberOfViews);\n                    current = calendar.views[0].last(current);\n                }\n                return current;\n            } else if (dimension === \"year\") {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + numberOfViews);\n                    current = calendar.views[1].last(current);\n                }\n                return current;\n            } else if (dimension === \"decade\") {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > 10 * numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n                    current = calendar.views[2].last(current);\n                }\n                return current;\n            } else if (dimension === \"century\") {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > 100 * numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n                    current = calendar.views[3].last(current);\n                }\n                return current;\n            }\n        }\n\n    })(window.kendo.jQuery);\n\n}));\n"]}